@import './includes/mixins.styl'


$color1 = #5a999b
$color11 = lightness($color1, 95%)
$color12 = lightness($color1, 80%)
$color13 = lightness($color1, 70%)
$color14 = lightness($color1, 55%)

$color2 = #fff


html
	font-family Arial
	font-size 1px
html,body
	clean()
	color darken($color1, 40%)
	font-family Arial
body
	margin 10px
a
	color inherit
	text-decoration none
	
main
	font-size 17rem
	
button
	font-size inherit

.logo
	width 120px

.add-cross
	size(15px)
	cursor pointer
	transition transform .3s
	transform rotate(0deg)
	text-align right
	display inline-block
	user-select none
	&.rotate
		transform rotate(45deg)
	svg *
		fill $color1
	&:hover
		svg *
			fill $color14

.but
	background $color14
	box-sizing border-box
	user-select none
	padding 10px
	cursor pointer
	text-align center
	outline none
	color $color2
	border none
	&:hover
		background $color13

.none
	display none !important

.bold
	font-weight 900
.main
	display grid
	grid-template-columns 270px 1fr
	height calc(100vh - 20px)
	grid-template-rows 50px 1fr
	grid-column-gap 15px
	grid-template-areas  "cities user user " "cities detail detail" "cities detail detail"
	.cities
		grid-area cities
		display flex
		flex-direction column
		justify-content space-between
		

	.current-city-main
		grid-area detail
	.header
		grid-area user
		border-bottom 0
		display flex
		justify-content space-between
		background $color1
		.city-card
			background $color2
			box-sizing border-box
			padding 15px
			white-space nowrap
		.user-auth-link
			height 100%
	>*
		box-sizing border-box
		border 2px solid $color12

	
	.tables
		position rel
		.controls
			xy(100%, 0)
			size(100%)
			.control
				height 60px
				box-sizing border-box
				padding 10px
				position rel
				background none
				transition background .3s
				&.on
					left -100%
					background $color1
				&.delete
					background #E32636
				input
					clean()
					background none
					display block
					color $color2
				.name-field
					font-size 16rem
				.value-field
					font-size 9rem
					margin-top 2px
				.icons
					-xy(0 , 50%)
					margin-top -10px
					margin-right 10px
					display flex
					&.active
						right 100%
					.icon 
						size(15px)
						cursor pointer
						&.focus
							i, svg
								fill $color2
								stroke $color2
						&:first-child
							margin-right 10px
						i, svg
							size(100%)
							fill $color1
							stroke $color1



	.table
		border-collapse collapse
		user-select none
		overflow auto
		display flex
		size(100%)
		flex-direction column
		
		.tr, .th
			cursor pointer
			display flex
			flex-direction column
			height 60px
			box-sizing border-box
			border-bottom 1px solid $color12
			padding 10px
			.td
				border 1px solid $color1e
				box-sizing border-box
				flex 1
			&:first-child
				background $color14
				//color #fff
	.attrs
		margin 15px
		box-sizing border-box
		.required
			.table
				border 0
				height auto
				display grid
				grid-template-areas 'one two'
				padding-bottom 15px
				.th, .tr
					background none
					display block
					height auto
					color darken($color1, 50%)

					.td
						border 0
						padding-left 2px
						&:nth-child(even)
							grid-area one
						&:nth-child(odd)
							grid-area two

		.optional
			position relative
			.table
				height auto
				border 0
				.th, .tr
					flex 1
					height auto
					min-height 60px
					background none
					color inherit
					.td
						border 0
			.controls
				width 100%
				display flex
				flex-direction column
				border 0
				xy(0)
				pointer-events none
				background none
				user-select none

				height auto
				&.active
					pointer-events auto
				.control
					display flex
					width 100%
					position rel
					min-height 60px
					box-sizing border-box
					flex 1
					//background #fff
					textarea
						resize none
					input, textarea
						outline none
						border none
						//padding 10px
						font-size 17rem
						flex 1
						background inherit
					.icons
						-xy(0 , 50%)
						margin-top -10px
						margin-right 10px
						display flex
						opacity 0
						&.active
							pointer-events auto
							opacity 1
						.icon
							size(15px)
							cursor pointer
							&.focus
								i, svg
									fill $color2
									stroke $color2
							&:first-child
								margin-right 10px
							i, svg
								size(100%)
								fill $color1
								stroke $color1
					&.on, &.delete
						pointer-events auto
						input, textarea
							color #fff
						.icons
							&.active
								pointer-events none
								opacity 0
							&.inactive
								opacity 1
							.icon
								i, svg
									fill #fff
									stroke #fff
					&.on
						background $color1
					&.delete
						background #E32636


			.add-attrs
				display block
				size( 100%, 100px)
				margin-top 15px
				.add-fields
					display flex
					flex-wrap wrap
					justify-content space-between
					.field
						flex 1
						&:first-child
							margin-right 15px
						input
							width 100%
							height 40px
							box-sizing border-box
							outline none
							padding-left 5px
							font-size 15rem

					.but
						flex 100%
						margin-top 15px

		.table
			size(100%)
			border 1px solid $color12
			.th, .tr
				flex-direction row
				border-bottom 0
				.td
					border 1px solid $color12
					border-right 0
					//padding 10px

			.tr
				padding 0
				.td:nth-child(2)
					border-left 0
			.th
				padding 0
				.td
					border-color $color12
					border-top 0
					&:first-child
						border-left 0

			
	.cities
		justify-content flex-start
		position rel
		.table-wrapp
			//height calc(415px - 53px)
			overflow-y auto
			order 2
			&::-webkit-scrollbar 
				display none
		.table
			height auto
			.th, .tr
				&:hover
					background $color12
				&.select
					background $color14
					color #fff
			.th
				display none
			.tr
				background $color11
			.td
				&:last-child
					font-size 10rem
				
	.region-check
		user-select none
		box-sizing border-box
		padding 15px 10px
		font-size 13rem
		border-bottom 1px solid $color12
		position rel
		justify-self flex-end
		width 100%
		background $color2
		order 1
		display flex
		min-height 50px
		.region
			color $color1
		label
			display flex
			cursor pointer
			flex 1
			align-items center
			.input-checkbox
				size(18px)
				box-sizing border-box
				border 2px solid $color13
				margin-right 10px
			input:checked + .input-checkbox
				background $color13
				border 0
			span
				order 2
			input
				order 1
				display none
			&:after
				content ' '
				xy()
				size(100%)
				z-index -1
				background $color12
				pointer-events none
				opacity 0

		.add-city
			user-select none
			text-align right
			.add-fields
				display flex
				justify-content space-between
				flex-wrap wrap
				width 100%
				background-color $color2
				padding 10px 10px 15px
				height auto
				flex-direction column
				box-sizing border-box
				border-bottom 1px solid $color12
				xy(0, 100%)
				.field
					flex 1
					height 50px
					justify-content space-between
				span, input
					display block
				input
					outline none
					padding 5px 0
					width 75%
					order 2
					font-size 15rem
					border 1px solid $color12
					padding-left 7px
				.but
					width 100%
					padding-right 1px
					margin-top 10px
	.current-city-main
		display block
		overflow auto
		border-top 0
	.current-city
		size(100%, auto)
		min-width 300px
		display inline-block
		padding 15px
		padding-top 25px
		box-sizing border-box
		.title
			font-size 25rem
			margin-bottom 15px
		.title-min
			font-size 18rem
			color $color12
	

	.user-wrapp
		border 0
	.user-auth
		display flex
		align-items center
		justify-content flex-end
		size(250px, 40px)
		cursor pointer
		color $color2
		box-sizing border-box
		padding 15px

	.user-logged
		padding 0 10px
		text-align center
		border 2px solid $color12
		display flex
		align-items center
		justify-content: space-between
		size(100%)
		box-sizing border-box
		border 0
		span
			display block
		.name
			order 3
			user-select none
			color $color2
		.region
			font-size 15rem
			order 1
			justify-self flex-end
			display flex
			user-select none
		.exit
			order 2
			flex 1
			text-align right
			font-size 11rem
			cursor pointer
			color $color12
			margin-right 5px
			user-select none
			&:after
				content '|'
			span
				display inline-block
				margin-right 5px
				padding-top 1px
				text-transform lowercase
				&:hover
					color $color11

	.user-auth-link
		border 0
		height 40px
		display flex
		align-items center
		justify-content flex-end
		max-width 75px
	.user-bg
		xy(fixed)
		size(100%)
		background $color1
		// opacity .3
		background rgba($color1, .3)
	.user
		size(300px, auto)
		display flex
		flex-direction column
		border 2px solid $color13
		align-items center
		padding 20px
		xy(0, 0)
		-x-y(0, 0)
		position fixed
		margin auto
		height 350px
		z-index 90
		background #fff
		>*
			width 100%
			margin 15px 0
		.title
			white-space nowrap
			user-select none
			cursor pointer
			text-align center
			display flex
			color $color2
			height 80px
			width calc(100% +40px)
			margin-top -20px
			background $color14
			box-sizing border-box
			justify-content space-between
			align-items center
			align-content center
			font-size 20rem
			.select
				padding 10px
				height 100%
				flex 1
				box-sizing border-box
				flex-center()
			.bold
				font-weight 300
				background $color2
				color $color14
			// 	text-decoration initial
			// &.inverse
			// 	.select:first-child
			// 		order 1
					
		.field
			display flex
			justify-content space-between
			align-items center
			user-select none
			input
				padding 5px 10px
				font-size 18rem
				outline none
		.but
			background $color14
			width 70%
			box-sizing border-box
			user-select none
			padding 10px
			cursor pointer
			text-align center
			outline none
			color $color2
			border none
			&:hover
				background $color13